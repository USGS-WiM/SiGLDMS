<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="app">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="icon" href="data:;base64,="><!--<link rel="icon" href="data:;base64,iVBORw0KGgo=">-->
    <title>SiGL DMS</title>
    <!--<base href="/">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />

    <!-- style sheets-->
    <!--<link href="css/bootstrap_3.1.1.css" rel="stylesheet" />-->
    <link href="bower_components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    <link href="css/bootstrap-table.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="bower_components/toastr/toastr.css" rel="stylesheet" />
    <link href="bower_components/isteven-angular-multiselect/isteven-multi-select.css" rel="stylesheet" />
    <link href="bower_components/angular-xeditable/dist/css/xeditable.css" rel="stylesheet" />

    <link href="css/ui-grid-unstable.css" rel="stylesheet" />

    <!-- Custom Style - Samuels -->
    <!-- <link href="css/styles.css" rel="stylesheet" /> -->
    <link href="css/overwrite.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Valera+Round" type="text/css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,300,700" type="text/css" rel="stylesheet" />
    <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" type="text/css" rel="stylesheet" />

    <!--library scripts-->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <script src="bower_components/angular-resource/angular-resource.min.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script> <!--includes templates-->
    <script src="bower_components/angular-ui-mask/dist/mask.min.js"></script> <!--for data masking ui-mask="(999)-****", unique, validate I think-->
    <script src="bower_components/isteven-angular-multiselect/isteven-multi-select.js"></script>
    <script src="bower_components/toastr/toastr.js"></script>
    <script src="bower_components/angular-ui-validate/dist/validate.min.js"></script>
    <script src="bower_components/angular-input-modified/dist/angular-input-modified.min.js"></script>
    <script src="bower_components/angular-xeditable/dist/js/xeditable.min.js"></script>
    <script src="bower_components/angular-filter/dist/angular-filter.min.js"></script>
    <script src="//maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script> <!-- used for the address find on site create page-->
    <script src="bower_components/checklist-model/checklist-model.js"></script>
    <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>

    <script src="js/vendor/inputmask.min.js"></script><!--better phone masking for optional ext-->
    <script src="js/vendor/jquery.inputmask.js"></script>
    <script src="js/vendor/ui-grid-unstable.js"></script>
    <!--<script src="//cdnjs.cloudflare.com/ajax/libs/angular-filter/0.4.7/angular-filter.js"></script>
    -->
    <!--application scripts-->
    <script src="js/app.js"></script>

    <!--Services-->
    <script src="services/LaMPResource.js"></script>

    <!-- Controllers -->
    <script src="js/SiGLControllers.js"></script>
    <script src="js/ModalsCtrl.js"></script>
    <script src="js/LogInOutCtrl.js"></script>

</head>

<body ng-app="app">
    <!--<div ng-include src="'partials/header.html'"></div>-->
    <!--HEADER START-->
    <div ng-controller="mainCtrl" class="navbar navbar-default">
        <div class="container-fluid" style="padding: 0;">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">
                    <img alt="Brand" src="images/usgsLogo.png">
                </a>
            </div>
            <div>
                <div style="width:60%;float:left;">
                    <h2><b>SiGL</b><em>:</em>Data Management System (DMS)</h2>
                </div>
                <div class="pull-right" ng-show="isAuth.val">
                    <div><span>Welcome, <a ui-sref="dataManagers.DMInfo({id: userID})">{{usersName}}</a></span></div>
                    <div><button ng-controller="navCtrl" ng-click="logout()">LOG OFF</button></div>
                </div>
            </div>
            <br clear="all" />
            <div ng-show="isAuth.val" class="container" style="padding: 0;">

                <div class="collapse navbar-collapse" id="">
                    <ul class="nav navbar-nav">
                        <li><a ui-sref="home" ui-sref-active="active">Home</a></li>
                        <li ng-if="Role == 'Admin'"><a ui-sref="settings" ui-sref-active="active">Settings</a></li>
                        <li><a ui-sref="dataManagers.DMInfo({id: userID})" ui-sref-active="active">Your account</a></li>
                        <li><a ui-sref="help" ui-sref-active="active">FAQs/Help</a></li>

                    </ul>
                </div>

            </div>
        </div>
    </div>
    <br clear="all" />
    <!--HEADER END-->
    <!--<div ng-include src="'partials/nav.html'" style="margin-top:31px"></div>-->

    <div class="page-loading"><div id="loading"><div id="loadingcontent"><p id="loadingspinner" style=""><img src="images/loading1.gif" /></p></div></div></div>
    <div class="container">
        <div ui-view></div>
    </div>

</body>
</html>

<!-- MODAL for 'new site name' for copy off sitelist -->
<script type="text/ng-template" id="newSiteNameModal.html">
    <div class="modal-header">
        <h3 class="modal-title">Copy Site</h3>
    </div>
    <div class="modal-body">
        <div class="modal-body">
            <form name="newSiteName">
                <div class="form-group">
                    <label class="col-md-10 control-label req" for="inputNAME">New Site Name:</label>
                    <div class="col-md-12">
                        <input class="form-control" id="inputNAME" name="NAME" ng-enter="ok()" ng-model="newSite.NAME" type="text" required />
                    </div>
                </div>
            </form><br clear="all" />
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>

</script>

<!-- MODALs for "are you sure you want to remove this thing (Keyword or URL) -->
<script type="text/ng-template" id="removemodal.html">
    <div class="modal-header">
        <h3 class="modal-title">Remove {{what}}</h3>
    </div>
    <div class="modal-body">
        <p>Are you sure you want to remove this {{what}}: <b>{{keyToRmv}}</b></p>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
    </div>
</script>

<!-- MODAL for add new org NAME to database-->
<script type="text/ng-template" id="AddOrganizationModal.html">
    <div class="modal-header">
        <h3 class="modal-title">Organizations</h3>
    </div>
    <div class="modal-body">
        <form name="newOrgForm">
            <fieldset>
                <div class="col-md-12 form-group">
                    <label class="col-md-3 control-label">Organization:</label>
                    <div class="col-md-9" ng-show="!showAddNAMEinput">
                        <div class="col-md-8" style="padding-left:0">
                            <select class="form-control" ng-disabled="disableOrgSelect" ng-model="selectedOrgID.id" ng-options="org.ORGANIZATION_ID as org.ORGANIZATION_NAME for org in orgList | orderBy: 'ORGANIZATION_NAME'" ng-change="getDivs(selectedOrgID.id)"></select>
                        </div>
                        <span class="col-md-3" ng-show="!showAddDIVISIONinput && !showAddSECTIONinput"><a href ng-click="addOrgName()">Add Organization</a></span>
                    </div>
                    <div class="col-md-9" ng-show="showAddNAMEinput">
                        <div class="col-md-8" style="padding-left:0">
                            <input class="form-control" id="inputNAME" name="NAME" ng-model="OrgName.value" type="text" placeholder="New Organization Name" />
                            <button class="btn btn-group-xs" style="padding-top:0;padding-bottom:0;" ng-click="addThisName(OrgName.value)">Add</button>
                            <button class="btn btn-group-xs" style="padding-top:0;padding-bottom:0;" ng-click="neverMind('org')">Cancel</button>
                        </div>
                    </div>

                </div>

                <div class="col-md-12 form-group">
                    <label class="col-md-3 control-label">Division</label>
                    <div class="col-md-9" ng-show="!showAddDIVISIONinput">
                        <div class="col-md-8" style="padding-left:0">
                            <select class="form-control" ng-disabled="disableDivSelect" ng-model="selectedDivID.id" ng-options="div.DIVISION_ID as div.DIVISION_NAME for div in divList | orderBy: 'DIVISION_NAME'" ng-change="getSecs(selectedDivID.id)">
                                <!--<option ng-repeat="div in divList | orderBy: 'DIVISION_NAME'" value="{{div.DIVISION_ID}}">{{div.DIVISION_NAME}}</option>-->
                            </select>
                        </div>
                        <span ng-show="orgsBeenChosen && !showAddSECTIONinput" class="col-md-3"><a href ng-click="addDivName()">Add Division</a></span>                        
                    </div>
                </div>
                <div class="col-md-9" ng-show="showAddDIVISIONinput">
                    <div class="col-md-8" style="padding-left:0;">
                        <input class="form-control" id="inputDIVISION" name="DIVISION" ng-model="divisionName.value" type="text" placeholder="New Division" />
                        <button class="btn btn-group-xs" style="padding-top:0;padding-bottom:0;" ng-click="addThisDivision(divisionName.value, selectedOrgID.id)">Add</button>
                        <button class="btn btn-group-xs" style="padding-top:0;padding-bottom:0;" ng-click="neverMind('div')">Cancel</button>
                    </div>
                </div>
    </div>

    <div class="col-md-12 form-group">
        <label class="col-md-3 control-label">Section</label>
        <div class="col-md-9" ng-show="!showAddSECTIONinput">
            <div class="col-md-8" style="padding-left:0">
                <select class="form-control" ng-disabled="disableSecSelect" ng-model="selectedSecID.id" ng-options="sec.SECTION_ID as sec.SECTION_NAME for sec in secList | orderBy: 'SECTION_NAME'" ng-change="setSecs(selectedSecID.id)"></select>
            </div>
            <span ng-show="divsBeenChosen" class="col-md-3"><a href ng-click="addSecName()">Add Section</a></span>
        </div>
        <div class="col-md-9" ng-show="showAddSECTIONinput">
            <div class="col-md-8" style="padding-left:0;">
                <input class="form-control" id="inputSECTION" name="SECTION" ng-model="sectionName.value" type="text" placeholder="New Section" />
                <button class="btn btn-group-xs" style="padding-top:0;padding-bottom:0;" ng-click="addThisSection(sectionName.value, selectedDivID.id)">Add</button>
                <button class="btn btn-group-xs" style="padding-top:0;padding-bottom:0;" ng-click="neverMind('sec')">Cancel</button>
            </div>
        </div>
    </div>

    </fieldset>
    </form>
    <br clear="all" />
    </div>

    <div class="modal-footer">
        <button class="btn btn-warning" ng-click="ok()">Close</button>
    </div>
</script>
